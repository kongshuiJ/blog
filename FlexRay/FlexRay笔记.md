<p>1.FlexRay具有高速、可靠及安全的特点。FlexRay在物理上通过两条分开的总线通信，每一条的数据速率是10MBit/s。CAN网络最高性能极限为1Mbps，而FlexRay总数据速率可达到20Mbit/秒。FlexRay支持各种拓扑，如总线、星型和混合拓扑。<br /><br />2.FlexRay节点的核心是ECU(Electronic Control Unit)，是接入车载网络中的独立完成相应功能的控制单元。主要由电源供给系统(Power Supply)、主处理器(Host)、固化FlexRay通信控制器(Communication Controller)、可选的总线监控器(Bus Guardian)和总线驱动器(Bus Driver)组成。<br />&nbsp;&nbsp;&nbsp; 主处理器提供和产生数据，并通过FlexRay通信控制器传送出去。其中BD和BG的个数对应于通道数，与通信控制器和微处理器相连。总线监控器必须独立于其他的通信控制器。总线驱动器连接着通信控制器和总线，或是连接总线监控器和总线。主处理器把 FlexRay 控制器分配的时间槽通知给总线监视器，然后总线监视器就允许 FlexRay 控制器在这些时间槽中来传输数据。数据可以在任何时候被接收。<br /><br />3.FlexRay的通信是在周期循环中进行的。一个通信循环始终包括静态段(ST)和网络闲置时间(NIT)，还可能包括动态段(DYN)、符号窗口(SW)。<br /><br />4.在静态段，采用时分多址TDMA技术实现时间触发，将多个时槽固定分配给每个节点，这些时槽内，只允许该节点传输数据；<br />&nbsp; 在动态段，采用更灵活的时分多址技术FTDMA，使用小时槽mini-slot作为访问动态部分的通信媒介。<br />&nbsp; <br />5.静态段可以保证对总线的访问是确定性的。但是通过对节点和信息分配时槽的方法来固定分配总线带宽，就导致了总线带宽利用率低，而且灵活性差，不利于以后节点的扩充。动态段采用时间触发的方式传输事件信息，保证了一些具有高优先权的数据能够在总线忙时也有机会发送信息，这样各个节点可以共享这部分带宽，而且带宽可动态分配，灵活性好。这就在保证总线访问的确定性的同时，弥补了静态段传输的不足。<br /><br />6.相位纠正值的计算只需一个循环周期的测量值，一旦接收了所有测量值，即可开始实施计算，并且它必须在开始相位纠正前完成。网络闲置时间(NIT)的一部分被保留，用于相位纠正。相位纠正要相隔一个循环实施，避免影响时钟频率偏差的确定。<br /><br />7.整个通信控制器按照功能分为：收发模块、媒质访问控制模块、接收判别模块、时钟同步模块、协议控制单元模块、接口模块。<br />&nbsp;&nbsp; &nbsp;收发模块 ： &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;是对通信控制器上层模块待发送的数据进行编码发送到总线上，同时对从总线上获得的比特流进行处理并解码组成数据传送给上层模块进行进一步处理。<br />&nbsp;&nbsp; &nbsp;媒质访问控制模块 ： 首先是负责通知收发模块发送帧和 symbol，发送帧的时候按照主机的要求组成帧，其次是控制访问总线的时序。<br />&nbsp;&nbsp; &nbsp;接收判别模块 ： &nbsp;&nbsp; &nbsp;检测接收数据的完整性以及检验数据是否在正确的时间被接收到。<br />&nbsp;&nbsp; &nbsp;时钟同步模块 ： &nbsp;&nbsp; &nbsp;节点与网内其它节点同步。<br />&nbsp;&nbsp; &nbsp;协议控制单元模块 ： 整个通信控制器的核心部分，其作用是根据主机的命令以及协议工作的环境协调其它功能模块的工作并给主机指示。<br />&nbsp;&nbsp; &nbsp;接口模块 ： &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;主机和 FlexRay 通信控制器交换数据和控制的通道。<br />&nbsp;&nbsp; &nbsp;<br />8.passive topologies:<br />&nbsp;&nbsp; &nbsp;point-to-point connection : <br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;24m<br />&nbsp;&nbsp; &nbsp;passive star : <br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;24m<br />&nbsp;&nbsp; &nbsp;line topology : <br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;24m&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;22 FlexRay nodes<br />&nbsp;&nbsp; &nbsp;active topologies : <br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;24m &nbsp;&nbsp;&nbsp; &nbsp; it must be considered that the active star coupler delays signal transmission.<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;connecting two active star couplers in series : a maximum network length of 3x12m should be assumed in practice.<br />&nbsp;&nbsp; &nbsp;<br />9.FlexRay node:<br />&nbsp;&nbsp;&nbsp; &nbsp;The communication controller is referred to as a FlexRay controller.<br />&nbsp;&nbsp; &nbsp;The bus driver is referred to as a FlexRay transceiver.<br />&nbsp;&nbsp; &nbsp;<br />10.FlexRay cable:<br />&nbsp;&nbsp; &nbsp;Because of its differential signal transmission,so twisted line pairs are typically used in practice &mdash; for cost reasons usually without shielding.<br />&nbsp;&nbsp; &nbsp;<br />11.Dynamic messages:<br />&nbsp;&nbsp; &nbsp;This means that the time point of message transmission is not predictable. Because the dynamic segment has a finite length, there may be FlexRay nodes wishing to send that will not be able to transmit their dynamic messages in the current cycle.<br />&nbsp;&nbsp; &nbsp;<br />12.FlexRay Cycle:<br />&nbsp;&nbsp; &nbsp;The communication cycle is composed of at least two time segments, the static segment and the network idle time (NIT) segment.<br />&nbsp;&nbsp; &nbsp;Optionally, the communication cycle may be extended by adding the dynamic time segment and a symbol window.<br />&nbsp;&nbsp; &nbsp;<br />13.A maximum of 1023 static slots may be defined. Because at least two FlexRay nodes are needed to generate the global time base, the static segment must consist of at least two static slots which are assigned to the FlexRay nodes.<br /><br />14.Synchronization Method：<br />&nbsp;&nbsp; &nbsp;In a FlexRay cluster, at least 2 and a maximum of 15 FlexRay nodes act as the sync nodes (synchronization node), which transmit a sync message (synchronization message) in a defined static slot of each cycle. <br />&nbsp;&nbsp; &nbsp;<br />15.ABBREVIATIONS：<br />&nbsp;&nbsp; &nbsp;PDU&nbsp;&nbsp; &nbsp;: <br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;Protocol Data Unit<br />&nbsp;&nbsp; &nbsp;SDU : <br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;Service Data Unit<br />&nbsp;&nbsp; &nbsp;ECU : <br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;Electronic Control Unit<br />&nbsp;&nbsp; &nbsp;GW&nbsp;&nbsp; &nbsp;: <br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;Gateway<br />&nbsp;&nbsp; &nbsp;Frame-ID :<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;Use&nbsp; "identifier&nbsp; value"&nbsp; (on&nbsp; CAN&nbsp; et&nbsp; al.)&nbsp; or&nbsp; "Slot-ID"&nbsp; (on&nbsp; FlexRay)&nbsp; instead. Otherwise we would construct the paradox to send many different frames (that&nbsp; we&nbsp; do&nbsp; not&nbsp; want&nbsp; to&nbsp; call&nbsp; messages)&nbsp; with&nbsp; a&nbsp; single&nbsp; frame-ID&nbsp; (that&nbsp; we therefore recommend to call slot-ID in FlexRay).<br />&nbsp;&nbsp; &nbsp;Slot-ID :<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;The SLOT-ID contains the FlexRay frame ID and has been restricted for fibex4FlexRay.The valid range is 1-2047.<br />&nbsp;&nbsp; &nbsp;UML :<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;Unified Modeling Language<br />&nbsp;&nbsp; &nbsp;LSB :<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;Least Significant Bit(Little endian)<br />&nbsp;&nbsp; &nbsp;MSB :<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;Most Significant Bit(Big endian)<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br />16. 网络闲置时间(NIT)的一部分被保留，用于相位纠正。<br /><br />17.macrotick是保证全局时钟同步的最小时间单元。也就是通信集群中所有节点的macrotick应定义相同的时间长度。<br /><br />18.唤醒模式不得同时在两个通道上一起进行传输。这样是为了防止一个错误节点的数据传输同时扰乱两个通道上的通信。主机必须配置CC应唤醒的通道是哪一个。CC必须确保该通道上正在进行的通信不被干扰。需要注意的是CC不能证实所有连接到已配置通道的节点在唤醒模式传输之后是否已被唤醒，因为这些节点在启动阶段之前不能发出任何反馈。主机应当注意到有可能发生的唤醒失败并采取相应措施。<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br />19.在最大时间节拍层(macrotick level)上。某些macrotick的边界被指定成action point，在静态段、动态段和符号窗口中action point指示立即开始数据发送，有时(仅限在动态段)action point可用于指示结束数据发送。<br /><br />20.在一个通信网络中，节点对应的个通道上的帧ID分配就是时隙分配，这种分配是唯一的、确定的。</p>